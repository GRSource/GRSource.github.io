<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>iOS性能优化 | 文档</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.9de76d75.js" as="script"><link rel="preload" href="/assets/js/2.98ea7a63.js" as="script"><link rel="preload" href="/assets/js/61.6e22c298.js" as="script"><link rel="prefetch" href="/assets/js/10.fa8eed47.js"><link rel="prefetch" href="/assets/js/11.f98f25e0.js"><link rel="prefetch" href="/assets/js/12.1ab9b5a3.js"><link rel="prefetch" href="/assets/js/13.75251b00.js"><link rel="prefetch" href="/assets/js/14.b5068189.js"><link rel="prefetch" href="/assets/js/15.33abd7e1.js"><link rel="prefetch" href="/assets/js/16.34ed8053.js"><link rel="prefetch" href="/assets/js/17.b3d52ea3.js"><link rel="prefetch" href="/assets/js/18.cbe71205.js"><link rel="prefetch" href="/assets/js/19.c632cb86.js"><link rel="prefetch" href="/assets/js/20.90d9a221.js"><link rel="prefetch" href="/assets/js/21.15cb7700.js"><link rel="prefetch" href="/assets/js/22.62ea968a.js"><link rel="prefetch" href="/assets/js/23.b743fdd5.js"><link rel="prefetch" href="/assets/js/24.5d157647.js"><link rel="prefetch" href="/assets/js/25.1935fba3.js"><link rel="prefetch" href="/assets/js/26.fd22f8ee.js"><link rel="prefetch" href="/assets/js/27.f47adfe7.js"><link rel="prefetch" href="/assets/js/28.d9f5719d.js"><link rel="prefetch" href="/assets/js/29.82cbf665.js"><link rel="prefetch" href="/assets/js/3.b96f613e.js"><link rel="prefetch" href="/assets/js/30.9f901f01.js"><link rel="prefetch" href="/assets/js/31.d9e2f61c.js"><link rel="prefetch" href="/assets/js/32.b14052e9.js"><link rel="prefetch" href="/assets/js/33.1b2e5efd.js"><link rel="prefetch" href="/assets/js/34.4bf7f44f.js"><link rel="prefetch" href="/assets/js/35.98d5fd2b.js"><link rel="prefetch" href="/assets/js/36.cdaf1c2f.js"><link rel="prefetch" href="/assets/js/37.a67bdb9a.js"><link rel="prefetch" href="/assets/js/38.5d856b83.js"><link rel="prefetch" href="/assets/js/39.27169c95.js"><link rel="prefetch" href="/assets/js/4.268c621c.js"><link rel="prefetch" href="/assets/js/40.8763c647.js"><link rel="prefetch" href="/assets/js/41.cd839f43.js"><link rel="prefetch" href="/assets/js/42.a97bf97a.js"><link rel="prefetch" href="/assets/js/43.fd126bb1.js"><link rel="prefetch" href="/assets/js/44.50e2b10d.js"><link rel="prefetch" href="/assets/js/45.0c29263b.js"><link rel="prefetch" href="/assets/js/46.fdee27aa.js"><link rel="prefetch" href="/assets/js/47.c7c7e966.js"><link rel="prefetch" href="/assets/js/48.80bc6f0a.js"><link rel="prefetch" href="/assets/js/49.d457b0ac.js"><link rel="prefetch" href="/assets/js/5.f577ebb9.js"><link rel="prefetch" href="/assets/js/50.cea3b0e6.js"><link rel="prefetch" href="/assets/js/51.eaab3e31.js"><link rel="prefetch" href="/assets/js/52.010a2dfb.js"><link rel="prefetch" href="/assets/js/53.3622f7b6.js"><link rel="prefetch" href="/assets/js/54.817aba2b.js"><link rel="prefetch" href="/assets/js/55.c3984ff9.js"><link rel="prefetch" href="/assets/js/56.6f20785e.js"><link rel="prefetch" href="/assets/js/57.07c7f6fc.js"><link rel="prefetch" href="/assets/js/58.4ec50d24.js"><link rel="prefetch" href="/assets/js/59.626b42b0.js"><link rel="prefetch" href="/assets/js/6.b9249342.js"><link rel="prefetch" href="/assets/js/60.ba2af5c7.js"><link rel="prefetch" href="/assets/js/62.df85ea27.js"><link rel="prefetch" href="/assets/js/63.cd3c1f6a.js"><link rel="prefetch" href="/assets/js/64.d0f75a86.js"><link rel="prefetch" href="/assets/js/65.12e0c392.js"><link rel="prefetch" href="/assets/js/66.aac422ac.js"><link rel="prefetch" href="/assets/js/67.3ff890c6.js"><link rel="prefetch" href="/assets/js/68.c6d12518.js"><link rel="prefetch" href="/assets/js/69.455e0c09.js"><link rel="prefetch" href="/assets/js/7.375eddd0.js"><link rel="prefetch" href="/assets/js/70.73d975e7.js"><link rel="prefetch" href="/assets/js/71.66528e07.js"><link rel="prefetch" href="/assets/js/72.a608a326.js"><link rel="prefetch" href="/assets/js/73.b8ed0811.js"><link rel="prefetch" href="/assets/js/74.68f4db5d.js"><link rel="prefetch" href="/assets/js/75.85059bdc.js"><link rel="prefetch" href="/assets/js/8.a04b9d9b.js"><link rel="prefetch" href="/assets/js/9.04a00c43.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>iOS笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/iOS笔记/工具.html" class="sidebar-link">工具</a></li><li><a href="/iOS笔记/计算机网络.html" class="sidebar-link">计算机网络</a></li><li><a href="/iOS笔记/架构.html" class="sidebar-link">架构</a></li><li><a href="/iOS笔记/视频播放器设计（基于FFmpeg）.html" class="sidebar-link">视频播放器设计（基于FFmpeg）</a></li><li><a href="/iOS笔记/视频常识.html" class="sidebar-link">视频常识</a></li><li><a href="/iOS笔记/数据结构与算法分析.html" class="sidebar-link">数据结构与算法分析</a></li><li><a href="/iOS笔记/算法.html" class="sidebar-link">算法</a></li><li><a href="/iOS笔记/音频常识.html" class="sidebar-link">音频常识</a></li><li><a href="/iOS笔记/音视频开发.html" class="sidebar-link">音视频开发</a></li><li><a href="/iOS笔记/直播.html" class="sidebar-link">直播</a></li><li><a href="/iOS笔记/App启动优化.html" class="sidebar-link">App启动优化</a></li><li><a href="/iOS笔记/Audio.html" class="sidebar-link">Audio</a></li><li><a href="/iOS笔记/AudioToolbox.html" class="sidebar-link">AudioToolbox</a></li><li><a href="/iOS笔记/AVFoundation.html" class="sidebar-link">AVFoundation</a></li><li><a href="/iOS笔记/C.html#.html" class="sidebar-link">C</a></li><li><a href="/iOS笔记/C.html#.html" class="sidebar-link">C#</a></li><li><a href="/iOS笔记/C++.html" class="sidebar-link">C++</a></li><li><a href="/iOS笔记/CoreAudio.html" class="sidebar-link">CoreAudio</a></li><li><a href="/iOS笔记/CoreVideo.html" class="sidebar-link">CoreVideo</a></li><li><a href="/iOS笔记/FFmpeg.html" class="sidebar-link">FFmpeg</a></li><li><a href="/iOS笔记/Flutter.html" class="sidebar-link">Flutter</a></li><li><a href="/iOS笔记/GPUImage.html" class="sidebar-link">GPUImage</a></li><li><a href="/iOS笔记/ijkPlayer.html" class="sidebar-link">ijkPlayer</a></li><li><a href="/iOS笔记/iOS细节.html" class="sidebar-link">iOS细节</a></li><li><a href="/iOS笔记/iOS性能优化.html" class="active sidebar-link">iOS性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/iOS笔记/iOS性能优化.html#性能监控" class="sidebar-link">性能监控</a></li><li class="sidebar-sub-header"><a href="/iOS笔记/iOS性能优化.html#日志上报" class="sidebar-link">日志上报</a></li><li class="sidebar-sub-header"><a href="/iOS笔记/iOS性能优化.html#性能优化" class="sidebar-link">性能优化</a></li><li class="sidebar-sub-header"><a href="/iOS笔记/iOS性能优化.html#影响因素" class="sidebar-link">影响因素</a></li><li class="sidebar-sub-header"><a href="/iOS笔记/iOS性能优化.html#性能指标" class="sidebar-link">性能指标</a></li><li class="sidebar-sub-header"><a href="/iOS笔记/iOS性能优化.html#cpu负责" class="sidebar-link">cpu负责</a></li><li class="sidebar-sub-header"><a href="/iOS笔记/iOS性能优化.html#性能分析方式" class="sidebar-link">性能分析方式</a></li><li class="sidebar-sub-header"><a href="/iOS笔记/iOS性能优化.html#cpu" class="sidebar-link">cpu</a></li><li class="sidebar-sub-header"><a href="/iOS笔记/iOS性能优化.html#电量" class="sidebar-link">电量</a></li></ul></li><li><a href="/iOS笔记/LFLiveKit.html" class="sidebar-link">LFLiveKit</a></li><li><a href="/iOS笔记/Metal.html" class="sidebar-link">Metal</a></li><li><a href="/iOS笔记/Objective-C.html" class="sidebar-link">Objective-C</a></li><li><a href="/iOS笔记/OpenGL相关概念.html" class="sidebar-link">OpenGL相关概念</a></li><li><a href="/iOS笔记/pthread.html" class="sidebar-link">pthread</a></li><li><a href="/iOS笔记/ReactNative.html" class="sidebar-link">React Native</a></li><li><a href="/iOS笔记/RunLoop.html" class="sidebar-link">RunLoop</a></li><li><a href="/iOS笔记/UI视图.html" class="sidebar-link">UI视图</a></li><li><a href="/iOS笔记/VideoToolbox.html" class="sidebar-link">VideoToolbox</a></li><li><a href="/iOS笔记/WebAssembly.html" class="sidebar-link">WebAssembly</a></li><li><a href="/iOS笔记/WebRTC.html" class="sidebar-link">WebRTC</a></li><li><a href="/iOS笔记/第三方.html" class="sidebar-link">第三方</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ios性能优化"><a href="#ios性能优化" class="header-anchor">#</a> iOS性能优化</h1> <h2 id="性能监控"><a href="#性能监控" class="header-anchor">#</a> 性能监控</h2> <h3 id="网络监控"><a href="#网络监控" class="header-anchor">#</a> 网络监控</h3> <ul><li><p>NSURLProtocol</p> <ul><li>只支持FTP/HTTP/HTTPS等应用层协议</li> <li>通过继承该类并实现session代理方法来截取行为</li></ul></li> <li><p>hook</p> <ul><li><p>CFNetwork</p> <ul><li>Fishhook</li></ul></li> <li><p>URLSession</p> <ul><li>Method Swizzling</li> <li>NSProxy</li></ul></li></ul></li> <li><p>关键指标</p> <ul><li>TCP建立连接时间</li> <li>DNS时间</li> <li>SSL时间</li> <li>首包时间</li> <li>响应时间</li> <li>HTTP错误率</li> <li>网络错误率</li> <li>流量</li></ul></li></ul> <h3 id="采集"><a href="#采集" class="header-anchor">#</a> 采集</h3> <ul><li><p>耗电量监控</p> <ul><li>UIDevice获取电量统计</li></ul></li> <li><p>CPU占用率</p> <ul><li>通过mach api获取</li></ul></li> <li><p>内存使用情况</p></li> <li><p>main函数之后</p> <ul><li><p>使用Instruments App Launch</p></li> <li><p>使用打点计时</p> <ul><li>就是通过计算方法的调用时间差</li> <li>缺点是无法判断具体是哪个方法超时，需要多次打点</li></ul></li> <li><p>定时获取主线程的调用栈</p> <ul><li><p>缺点</p> <ul><li>1.拉取调用栈也会消耗时间，造成时间记录增加</li></ul></li></ul></li> <li><p>hook objc_msgSend</p> <ul><li>通过hook，我们可以在objc_msgSend前后插入监听方法，统计时间</li></ul></li></ul></li></ul> <h3 id="ui"><a href="#ui" class="header-anchor">#</a> UI</h3> <ul><li><p>FPS</p> <ul><li><p>通过CADisplayLink监测FPS</p> <ul><li>CADisplayLink是每刷新一帧时调用一次</li></ul></li></ul></li> <li><p>主线程卡顿监控</p> <ul><li>子线程监测主线程的runloop，判断两个状态之间的耗时是否达到一定阈值</li> <li>子线程向主线程发送消息，如果如果消息一直未执行，那么就可以判断主线程在运行一个耗时的任务，此时子线程可以打印主线程的调用栈</li></ul></li> <li><p>子线程操作UI</p> <ul><li><p>hook</p> <ul><li>setNeedsLayout</li> <li>setNeedDisplay</li> <li>setNeedsDisplayInRect</li></ul></li></ul></li></ul> <h3 id="内存监控"><a href="#内存监控" class="header-anchor">#</a> 内存监控</h3> <ul><li><p>内存使用</p> <ul><li><p>FBAllocationTracker</p> <ul><li>hook [NSObject alloc]方法</li> <li>只能捕获NSObject内存，无法捕获C++对象、malloc对象以及vm内存</li></ul></li> <li><p>OOMDetector</p> <ul><li><p>hook内核层内存分配</p> <ul><li>malloc/calloc</li> <li>捕获不到系统库的内存分配</li></ul></li> <li><p>捕获内存分配多的堆栈</p></li></ul></li></ul></li> <li><p>内存泄漏</p> <ul><li><p>MLeakFinder</p> <ul><li><p>hook很多方法</p> <ul><li>例如push/pop/dismiss</li></ul></li></ul></li> <li><p>FBRetainCycleDetector</p> <ul><li>获取所有对象的strong属性和block强引用，生成有向图</li> <li>查找有向图的环</li></ul></li></ul></li></ul> <h3 id="crash"><a href="#crash" class="header-anchor">#</a> Crash</h3> <ul><li><p>Mach异常</p> <ul><li>会转为UNIX异常</li></ul></li> <li><p>UNIX异常</p> <ul><li>signal</li> <li>swift异常</li></ul></li> <li><p>Objective-C异常</p> <ul><li>NSUncaughtExceptionHandler</li></ul></li> <li><p>watchDog</p> <ul><li>无法捕获</li> <li>可以检测其他条件是否触发，比如crash/cpu过高/内存等来判定</li></ul></li> <li><p>解析</p> <ul><li><p>dSYM</p> <ul><li>符号表</li> <li>xcode解析</li> <li>自动解析</li></ul></li></ul></li></ul> <h3 id="连接超时"><a href="#连接超时" class="header-anchor">#</a> 连接超时</h3> <h3 id="网络劫持"><a href="#网络劫持" class="header-anchor">#</a> 网络劫持</h3> <h3 id="交互性能差"><a href="#交互性能差" class="header-anchor">#</a> 交互性能差</h3> <h3 id="内存泄漏"><a href="#内存泄漏" class="header-anchor">#</a> 内存泄漏</h3> <h3 id="不良接口"><a href="#不良接口" class="header-anchor">#</a> 不良接口</h3> <h2 id="日志上报"><a href="#日志上报" class="header-anchor">#</a> 日志上报</h2> <h3 id="收集"><a href="#收集" class="header-anchor">#</a> 收集</h3> <ul><li><p>无痕打点</p> <ul><li>hook</li> <li>配置文件</li></ul></li> <li><p>业务数据上报</p></li></ul> <h3 id="本地存储"><a href="#本地存储" class="header-anchor">#</a> 本地存储</h3> <h3 id="批量上传"><a href="#批量上传" class="header-anchor">#</a> 批量上传</h3> <h2 id="性能优化"><a href="#性能优化" class="header-anchor">#</a> 性能优化</h2> <h3 id="启动优化"><a href="#启动优化" class="header-anchor">#</a> 启动优化</h3> <ul><li><p>main函数之前</p> <ul><li><p>dylib加载时间优化</p> <ul><li>减少不必要的framework</li> <li>针对不同系统的支持，将framework设置为optional，例如iOS13中的combine</li> <li>使用静态库</li></ul></li> <li><p>rebase/binding time</p> <ul><li>合并或者删减一些无用的OC类</li> <li>减少c++虚函数数量</li> <li>使用swift struct</li></ul></li> <li><p>Objc setup time</p> <ul><li>无优化项，是系统进行类的注册、将category插入原类</li></ul></li> <li><p>initializer time</p> <ul><li>使用initialize替代load</li> <li>不要在初始化中使用dlopen</li></ul></li></ul></li> <li><p>main函数之后</p> <ul><li>延迟/减少启动任务</li> <li>先开启闪屏界面再处理数据</li></ul></li></ul> <h3 id="合理的线程分配"><a href="#合理的线程分配" class="header-anchor">#</a> 合理的线程分配</h3> <ul><li>大量的GCD使用会造成线程的分配数量不合理，所以对于一些操作我们固定线程，例如DB操作、日志记录、网络回调</li></ul> <h3 id="预处理"><a href="#预处理" class="header-anchor">#</a> 预处理</h3> <ul><li>对于初次显示需要耗费大量线程时间的操作，提前放到后台线程进行计算，比如读取本地缓存</li></ul> <h3 id="延时加载"><a href="#延时加载" class="header-anchor">#</a> 延时加载</h3> <ul><li>对于某些操作，我们在需要使用时再去加载</li></ul> <h3 id="缓存"><a href="#缓存" class="header-anchor">#</a> 缓存</h3> <h3 id="正确的api"><a href="#正确的api" class="header-anchor">#</a> 正确的api</h3> <ul><li><p>例如</p> <ul><li>imageNamed:会缓存</li> <li>imageWithContentsOfFile:不会缓存</li> <li>缓存NSDateFormatter的结果</li> <li>不要随意使用NSLog()</li> <li>NSFileManager会浪费大量时间读取不需要的附加属性，推荐使用stat</li></ul></li></ul> <h3 id="crash-2"><a href="#crash-2" class="header-anchor">#</a> crash</h3> <ul><li>连续闪退时清空本地缓存数据</li></ul> <h3 id="包体积"><a href="#包体积" class="header-anchor">#</a> 包体积</h3> <ul><li><p>资源</p> <ul><li>更小的图片格式</li> <li>图片压缩</li> <li>文件压缩</li> <li>资源动态下载</li> <li>清理无效资源</li></ul></li> <li><p>App Thinning</p> <ul><li>开启bitcode</li></ul></li> <li><p>清理无效代码</p> <ul><li>Clang</li> <li>LinkMap</li> <li>AppCode</li></ul></li></ul> <h2 id="影响因素"><a href="#影响因素" class="header-anchor">#</a> 影响因素</h2> <h3 id="内存消耗"><a href="#内存消耗" class="header-anchor">#</a> 内存消耗</h3> <h3 id="网络带宽效率"><a href="#网络带宽效率" class="header-anchor">#</a> 网络带宽效率</h3> <h3 id="用户界面响应速度"><a href="#用户界面响应速度" class="header-anchor">#</a> 用户界面响应速度</h3> <h2 id="性能指标"><a href="#性能指标" class="header-anchor">#</a> 性能指标</h2> <h3 id="内存"><a href="#内存" class="header-anchor">#</a> 内存</h3> <ul><li><p>栈</p> <ul><li>最大方法数</li> <li>视图层级</li></ul></li> <li><p>堆</p></li></ul> <h3 id="电量消耗"><a href="#电量消耗" class="header-anchor">#</a> 电量消耗</h3> <h3 id="初始化时间"><a href="#初始化时间" class="header-anchor">#</a> 初始化时间</h3> <h3 id="执行速度"><a href="#执行速度" class="header-anchor">#</a> 执行速度</h3> <h3 id="响应速度"><a href="#响应速度" class="header-anchor">#</a> 响应速度</h3> <h3 id="本地存储-2"><a href="#本地存储-2" class="header-anchor">#</a> 本地存储</h3> <h3 id="互操作性"><a href="#互操作性" class="header-anchor">#</a> 互操作性</h3> <ul><li>提供多个应用互操作的能力</li></ul> <h3 id="网络环境"><a href="#网络环境" class="header-anchor">#</a> 网络环境</h3> <ul><li>高带宽稳定网络</li> <li>低带宽稳定网络</li> <li>高带宽不稳定网络</li> <li>低带宽不稳定网络</li> <li>无网络</li></ul> <h3 id="带宽"><a href="#带宽" class="header-anchor">#</a> 带宽</h3> <h3 id="数据刷新"><a href="#数据刷新" class="header-anchor">#</a> 数据刷新</h3> <ul><li>流量节省</li></ul> <h3 id="多用户支持"><a href="#多用户支持" class="header-anchor">#</a> 多用户支持</h3> <h3 id="单点登录"><a href="#单点登录" class="header-anchor">#</a> 单点登录</h3> <h3 id="安全"><a href="#安全" class="header-anchor">#</a> 安全</h3> <h3 id="崩溃"><a href="#崩溃" class="header-anchor">#</a> 崩溃</h3> <ul><li>僵尸对象</li> <li>循环引用</li></ul> <h2 id="cpu负责"><a href="#cpu负责" class="header-anchor">#</a> cpu负责</h2> <h3 id="视图创建"><a href="#视图创建" class="header-anchor">#</a> 视图创建</h3> <h3 id="布局计算"><a href="#布局计算" class="header-anchor">#</a> 布局计算</h3> <h3 id="图片解码"><a href="#图片解码" class="header-anchor">#</a> 图片解码</h3> <h3 id="文本绘制"><a href="#文本绘制" class="header-anchor">#</a> 文本绘制</h3> <h2 id="性能分析方式"><a href="#性能分析方式" class="header-anchor">#</a> 性能分析方式</h2> <h3 id="采样"><a href="#采样" class="header-anchor">#</a> 采样</h3> <ul><li><p>以一定的周期间隔采集状态</p></li> <li><p>优点</p> <ul><li>可用于跟踪CPU和内存的使用情况</li></ul></li> <li><p>缺点</p> <ul><li>不够精细，因为间隔时间是固定的，间隔时间内的状态无法采集到</li></ul></li></ul> <h3 id="埋点"><a href="#埋点" class="header-anchor">#</a> 埋点</h3> <ul><li>在关键部分主动埋点，有更加精确的结果</li> <li>需要注入额外代码，一定会影响应用的性能</li></ul> <h2 id="cpu"><a href="#cpu" class="header-anchor">#</a> cpu</h2> <h3 id="uitableview"><a href="#uitableview" class="header-anchor">#</a> UITableView</h3> <ul><li>针对UITableView的高度判断处理数据的条数</li> <li>当快速滚动时，速度降低到某一阈值后再处理数据，阈值根据单元格的复杂程度来决定</li></ul> <h2 id="电量"><a href="#电量" class="header-anchor">#</a> 电量</h2> <h3 id="网络"><a href="#网络" class="header-anchor">#</a> 网络</h3> <ul><li>监控网络状态，给予合适的网络资源</li></ul> <h3 id="合适的定位精度"><a href="#合适的定位精度" class="header-anchor">#</a> 合适的定位精度</h3> <h3 id="根据电量或者是否充电状态判断执行某些操作"><a href="#根据电量或者是否充电状态判断执行某些操作" class="header-anchor">#</a> 根据电量或者是否充电状态判断执行某些操作</h3> <h3 id="如果电量低-在执行密集操作之前提示用户"><a href="#如果电量低-在执行密集操作之前提示用户" class="header-anchor">#</a> 如果电量低，在执行密集操作之前提示用户</h3> <p><em>XMind - Trial Version</em></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/iOS笔记/iOS细节.html" class="prev">
        iOS细节
      </a></span> <span class="next"><a href="/iOS笔记/LFLiveKit.html">
        LFLiveKit
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9de76d75.js" defer></script><script src="/assets/js/2.98ea7a63.js" defer></script><script src="/assets/js/61.6e22c298.js" defer></script>
  </body>
</html>
