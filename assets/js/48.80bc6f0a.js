(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{591:function(a,v,t){"use strict";t.r(v);var _=t(65),e=Object(_.a)({},(function(){var a=this,v=a.$createElement,t=a._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"ffmpeg"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg"}},[a._v("#")]),a._v(" FFmpeg")]),a._v(" "),t("h2",{attrs:{id:"å‘½ä»¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‘½ä»¤"}},[a._v("#")]),a._v(" å‘½ä»¤")]),a._v(" "),t("h3",{attrs:{id:"æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯"}},[a._v("#")]),a._v(" æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯")]),a._v(" "),t("ul",[t("li",[a._v("ffprobe ~/Desktop/32037.mp3")]),a._v(" "),t("li",[a._v("ffprobe ~/Desktop/32037.mp4")])]),a._v(" "),t("h3",{attrs:{id:"æ ¼å¼ä¿¡æ¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ ¼å¼ä¿¡æ¯"}},[a._v("#")]),a._v(" æ ¼å¼ä¿¡æ¯")]),a._v(" "),t("ul",[t("li",[a._v("ffprobe -show_format 32037.mp4")])]),a._v(" "),t("h3",{attrs:{id:"jsonæ ¼å¼æµä¿¡æ¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jsonæ ¼å¼æµä¿¡æ¯"}},[a._v("#")]),a._v(" jsonæ ¼å¼æµä¿¡æ¯")]),a._v(" "),t("ul",[t("li",[a._v("ffprobe -print_format json -show_streams 32037.mp4")])]),a._v(" "),t("h3",{attrs:{id:"æ˜¾ç¤ºå¸§ä¿¡æ¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ˜¾ç¤ºå¸§ä¿¡æ¯"}},[a._v("#")]),a._v(" æ˜¾ç¤ºå¸§ä¿¡æ¯")]),a._v(" "),t("ul",[t("li",[a._v("ffprobe -show_frames sample.mp4")])]),a._v(" "),t("h3",{attrs:{id:"æŸ¥çœ‹åŒ…ä¿¡æ¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æŸ¥çœ‹åŒ…ä¿¡æ¯"}},[a._v("#")]),a._v(" æŸ¥çœ‹åŒ…ä¿¡æ¯")]),a._v(" "),t("ul",[t("li",[a._v("ffprobe -show_packets sample.mp4")])]),a._v(" "),t("h3",{attrs:{id:"æ’­æ”¾"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ’­æ”¾"}},[a._v("#")]),a._v(" æ’­æ”¾")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("ffplay")]),a._v(" "),t("ul",[t("li",[a._v("ffplay 32037.mp3")]),a._v(" "),t("li",[a._v("ffplay 32037.mp4 -loop 10")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("å¾ªç¯åæ¬¡\n")])])]),t("ul",[t("li",[t("p",[a._v("ffplay å¤§è¯è¥¿æ¸¸.mkv -ast 1")]),a._v(" "),t("p",[a._v("æ’­æ”¾ç¬¬ä¸€è·¯éŸ³é¢‘")])]),a._v(" "),t("li",[t("p",[a._v("ffplay å¤§è¯è¥¿æ¸¸.mkv -vst 1")]),a._v(" "),t("p",[a._v("æ’­æ”¾ç¬¬ä¸€è·¯è§†é¢‘")])]),a._v(" "),t("li",[t("p",[a._v("ffplay song.pcm -f s16le -channels 2 -ar 44100")])])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("æ’­æ”¾è£¸æ•°æ®ï¼Œå¿…é¡»æŒ‡å®šæ ¼å¼-fï¼Œå£°é“æ•°-channelsï¼Œé‡‡æ ·ç‡-arï¼ŒWAVå°è£…æ ¼å¼ç§°ä¸ºæ— æŸæ ¼å¼ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨PCMå¤´éƒ¨æ·»åŠ äº†44å­—èŠ‚å¤´ç”¨äºæ ‡è¯†è¿™äº›æ•°æ®\n")])])]),t("ul",[t("li",[t("p",[a._v("ffplay -f rawvideo -pixel_format yuv420p -s 480x480 texture.yuv")]),a._v(" "),t("p",[a._v("æ’­æ”¾è£¸æ•°æ®ï¼Œå¿…é¡»åŒ…å«æ ¼å¼ï¼ˆ-f rawvideoè¡¨ç¤ºåŸå§‹æ ¼å¼ï¼‰ã€è¡¨ç¤ºæ ¼å¼-pixel_formatã€å®½é«˜-s")])]),a._v(" "),t("li",[t("p",[a._v("ffplay -s 1366x768 -vf extractplanes='y' texture.yuv")]),a._v(" "),t("p",[a._v("åªæ’­æ”¾yå±å¹•è§†é¢‘")])]),a._v(" "),t("li",[t("p",[a._v("ffplay 32037.mp4 -sync audio")])])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("ä»¥éŸ³é¢‘ä¸ºåŸºå‡†è¿›è¡ŒéŸ³è§†é¢‘åŒæ­¥\n")])])]),t("ul",[t("li",[t("p",[a._v("ffplay 32037.mp4 -sync video")]),a._v(" "),t("p",[a._v("ä»¥è§†é¢‘ä¸ºåŸºå‡†è¿›è¡ŒéŸ³è§†é¢‘åŒæ­¥")])]),a._v(" "),t("li",[t("p",[a._v("ffplay 32037.mp4 -sync ext")]),a._v(" "),t("p",[a._v("ä»¥å¤–éƒ¨æ—¶é’Ÿä¸ºåŸºå‡†è¿›è¡ŒéŸ³è§†é¢‘åŒæ­¥")])])])])]),a._v(" "),t("h3",{attrs:{id:"ffmpeg-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg-2"}},[a._v("#")]),a._v(" ffmpeg")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("-f")]),a._v(" "),t("p",[a._v("æŒ‡å®šæ ¼å¼")])]),a._v(" "),t("li",[t("p",[a._v("-i")]),a._v(" "),t("p",[a._v("æŒ‡å®šè¾“å…¥")])]),a._v(" "),t("li",[t("p",[a._v("-y")]),a._v(" "),t("p",[a._v("è¦†ç›–å·²æœ‰æ–‡ä»¶")])]),a._v(" "),t("li",[t("p",[a._v("-t")]),a._v(" "),t("p",[a._v("æŒ‡å®šæ—¶é•¿")])]),a._v(" "),t("li",[t("p",[a._v("-fs")]),a._v(" "),t("p",[a._v("è®¾å®šæ–‡ä»¶å¤§å°çš„ä¸Šé™")])]),a._v(" "),t("li",[t("p",[a._v("-ss")]),a._v(" "),t("p",[a._v("ä»æŒ‡å®šæ—¶é—´å¼€å§‹")])]),a._v(" "),t("li",[t("p",[a._v("-re")]),a._v(" "),t("p",[a._v("æŒ‰å¸§ç‡å‘é€")])]),a._v(" "),t("li",[t("p",[a._v("-map")]),a._v(" "),t("p",[a._v("è¾“å‡ºæ–‡ä»¶çš„æµæ˜ å°„å…³ç³»ï¼Œä¾‹å¦‚:â€œ-map 1:0-map 1: 1â€è¦æ±‚å°†ç¬¬äºŒä¸ªè¾“å…¥æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªæµå’Œç¬¬äºŒä¸ªæµå†™å…¥è¾“å‡ºæ–‡ä»¶ã€‚å¦‚æœæ²¡ æœ‰-mapé€‰é¡¹ï¼Œåˆ™ffmpegé‡‡ç”¨é»˜è®¤çš„æ˜ å°„å…³ç³»ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("-formats")]),a._v(" "),t("p",[a._v("åˆ—å‡ºffmpegæ”¯æŒçš„æ‰€æœ‰æ ¼å¼")])]),a._v(" "),t("li",[t("p",[a._v("è§†é¢‘å‚æ•°")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("-b")]),a._v(" "),t("p",[a._v("æŒ‡å®šæ¯”ç‰¹ç‡")])]),a._v(" "),t("li",[t("p",[a._v("-bitexact")]),a._v(" "),t("p",[a._v("ä½¿ç”¨æ ‡å‡†æ¯”ç‰¹ç‡")])]),a._v(" "),t("li",[t("p",[a._v("-vb")]),a._v(" "),t("p",[a._v("æŒ‡å®šè§†é¢‘æ¯”ç‰¹ç‡")])]),a._v(" "),t("li",[t("p",[a._v("-r")]),a._v(" "),t("p",[a._v("å¸§é€Ÿç‡")])]),a._v(" "),t("li",[t("p",[a._v("-vcodec")]),a._v(" "),t("p",[a._v("æŒ‡å®šç¼–ç æ–¹å¼ï¼Œcopyä»£è¡¨ä¸è¿›è¡Œé‡æ–°ç¼–ç ")])]),a._v(" "),t("li",[t("p",[a._v("-s")]),a._v(" "),t("p",[a._v("æŒ‡å®šåˆ†è¾¨ç‡")])]),a._v(" "),t("li",[t("p",[a._v("-vn")]),a._v(" "),t("p",[a._v("å–æ¶ˆè§†é¢‘çš„è¾“å‡º")])]),a._v(" "),t("li",[t("p",[a._v("-aspect")]),a._v(" "),t("p",[a._v("è®¾ç½®è§†é¢‘é•¿å®½æ¯”")])]),a._v(" "),t("li",[t("p",[a._v("-padtop")]),a._v(" "),t("p",[a._v("è®¾ç½®é¡¶éƒ¨è¡¥é½å°ºå¯¸")])]),a._v(" "),t("li",[t("p",[a._v("-padbottom")]),a._v(" "),t("p",[a._v("åº•è¡¥é½")])]),a._v(" "),t("li",[t("p",[a._v("-padleft")]),a._v(" "),t("p",[a._v("å·¦è¡¥é½")])]),a._v(" "),t("li",[t("p",[a._v("-padright")]),a._v(" "),t("p",[a._v("å³è¡¥é½")])]),a._v(" "),t("li",[t("p",[a._v("-padcolor")]),a._v(" "),t("p",[a._v("è¡¥é½å¸¦é¢œè‰²")])]),a._v(" "),t("li",[t("p",[a._v("-croptop")]),a._v(" "),t("p",[a._v("è®¾ç½®é¡¶éƒ¨åˆ‡é™¤å°ºå¯¸")])]),a._v(" "),t("li",[t("p",[a._v("-cropbottom")]),a._v(" "),t("p",[a._v("è®¾ç½®åº•éƒ¨åˆ‡é™¤å°ºå¯¸")])]),a._v(" "),t("li",[t("p",[a._v("-cropleft")]),a._v(" "),t("p",[a._v("è®¾ç½®å·¦åˆ‡é™¤å°ºå¯¸")])]),a._v(" "),t("li",[t("p",[a._v("-cropright")]),a._v(" "),t("p",[a._v("è®¾ç½®å³åˆ‡é™¤å°ºå¯¸")])])])]),a._v(" "),t("li",[t("p",[a._v("éŸ³é¢‘å‚æ•°")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("-ab")]),a._v(" "),t("p",[a._v("è®¾ç½®æ¯”ç‰¹ç‡")])]),a._v(" "),t("li",[t("p",[a._v("-aq")]),a._v(" "),t("p",[a._v("è®¾ç½®éŸ³é¢‘è´¨é‡")])]),a._v(" "),t("li",[t("p",[a._v("-ar")]),a._v(" "),t("p",[a._v("è®¾ç½®éŸ³é¢‘é‡‡æ ·ç‡")])]),a._v(" "),t("li",[t("p",[a._v("-ac")]),a._v(" "),t("p",[a._v("è®¾ç½®å£°é“æ•°")])]),a._v(" "),t("li",[t("p",[a._v("-an")]),a._v(" "),t("p",[a._v("å–æ¶ˆéŸ³é¢‘è½¨")])]),a._v(" "),t("li",[t("p",[a._v("-acodec")]),a._v(" "),t("p",[a._v("æŒ‡å®šéŸ³é¢‘ç¼–ç ('copy'ä»£è¡¨ä¸åšéŸ³é¢‘è½¬ç ï¼Œç›´æ¥å¤ åˆ¶)ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("-vol")]),a._v(" "),t("p",[a._v("è®¾ç½®å½•åˆ¶éŸ³é‡å¤§å°(é»˜è®¤ä¸º256)<ç™¾åˆ†æ¯”>ã€‚")])])])]),a._v(" "),t("li",[t("p",[a._v("æ“ä½œ")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("ffmpeg -i input.mp4 -ss 00:00:50.0 -codec copy -t 20 output.mp4")]),a._v(" "),t("p",[a._v("å‰ªåˆ‡æ–‡ä»¶")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i input.mp4 -t 00:00:50 -c copy small-1.mp4 -ss 00:00:50 -codec copy small-2.mp4")]),a._v(" "),t("p",[a._v("åˆ†å‰²")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i input.mp4 -vn -acodec copy output.m4a")]),a._v(" "),t("p",[a._v("æå–éŸ³é¢‘")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i input.mp4 -an -vcodec copy output.mp4")]),a._v(" "),t("p",[a._v("æå–è§†é¢‘")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i output.mp4 -an -vcodec copy -bsf:v h264_mp4toannexb output.h264")]),a._v(" "),t("p",[a._v("å¯¼å‡ºè£¸h264æ•°æ®ï¼Œ-bsfè¡¨ç¤ºæ¯”ç‰¹ç‡æ ¼å¼")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i test.aac -i test.h264 -acodec copy -bsf:a aac_adtstoasc -vcodec copy -f mp4 output.mp4")])])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("ä½¿ç”¨aacå’Œh264ç”Ÿæˆmp4æ–‡ä»¶\n")])])]),t("ul",[t("li",[t("p",[a._v("ffmpeg -i input.wav -acodec libfdk_aac output.aac")]),a._v(" "),t("p",[a._v("å¯¹éŸ³é¢‘æ–‡ä»¶çš„ç¼–ç æ ¼å¼åšè½¬æ¢")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i input.wav -acodec pcm_s16le -f s16le output.pcm")]),a._v(" "),t("p",[a._v("ä»WAVéŸ³é¢‘æ–‡ä»¶ä¸­å¯¼å‡ºPCMè£¸æ•°æ®ï¼Œs16leè¡¨ç¤ºä½æ·±16çš„å°ç«¯æ•°æ®")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i input.flv -vcodec libx264 -acodec copy output.mp4")]),a._v(" "),t("p",[a._v("é‡æ–°ç¼–ç è§†é¢‘æ–‡ä»¶ï¼Œå¤åˆ¶éŸ³é¢‘æµï¼ŒåŒæ—¶å°è£…åˆ°MP4æ ¼å¼çš„æ–‡ä»¶ ä¸­")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i output.mp4 -r 0.25 frames_%04d.png")])])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("å°†ä¸€ä¸ªè§†é¢‘çš„ç”»é¢éƒ¨åˆ†ç”Ÿæˆå›¾ç‰‡ï¼Œ0.25è¡¨ç¤ºæ¯ç§’0.25å¸§ï¼Œä¹Ÿå°±æ˜¯4ç§’æˆªå–ä¸€å¸§ç”Ÿæˆå›¾ç‰‡\n")])])]),t("ul",[t("li",[t("p",[a._v("ffmpeg -i frames_%04d.png -r 5 output.gif")]),a._v(" "),t("p",[a._v("ä½¿ç”¨ä¸€ç»„å›¾ç‰‡å¯ä»¥ç»„æˆä¸€ä¸ªgif")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i input.wav -af â€˜volume=0.5â€™ output.wav")]),a._v(" "),t("p",[a._v("ä¸Šè¿°å‘½ä»¤æ˜¯å°†input.wavä¸­çš„å£°éŸ³å‡å°ä¸€åŠï¼Œè¾“å‡ºåˆ°output.wavæ–‡ä»¶")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i input.wav -filter_complex afade=t=in:ss=0:d=5 output.wav")]),a._v(" "),t("p",[a._v("å°†input.wavæ–‡ä»¶ä¸­çš„å‰5såšä¸€ä¸ªæ·¡å…¥æ•ˆæœï¼Œè¾“å‡ºåˆ° output.wavä¸­")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i input.wav -filter_complex afade=t=out:st=200:d=5 output.wav")]),a._v(" "),t("p",[a._v("æ·¡å‡ºæ•ˆæœå™¨ï¼Œå°†input.wavæ–‡ä»¶ä»200så¼€å§‹ï¼Œåš5sçš„æ·¡å‡ºæ•ˆæœï¼Œå¹¶æ”¾ åˆ°output.wavæ–‡ä»¶ä¸­")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i vocal.wav -i accompany.wav -filter_complex amix=inputs=2:duration=shortest output.wav")]),a._v(" "),t("p",[a._v("å°†ä¸¤è·¯å£°éŸ³è¿›è¡Œåˆå¹¶ï¼Œæ¯”å¦‚è¦ç»™ä¸€æ®µå£°éŸ³åŠ ä¸ŠèƒŒæ™¯éŸ³ä¹")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i vocal.wav -filter_complex atempo=0.5 output.wav")]),a._v(" "),t("p",[a._v("å°†vocal.wavæŒ‰ç…§0.5å€çš„é€Ÿåº¦è¿›è¡Œå¤„ç†ç”Ÿæˆoutput.wavï¼Œ æ—¶é—´é•¿åº¦å°†ä¼šå˜ä¸ºè¾“å…¥çš„2å€ã€‚ä½†æ˜¯éŸ³é«˜æ˜¯ä¸å˜çš„ï¼Œè¿™å°±æ˜¯å¤§å®¶å¸¸è¯´çš„ å˜é€Ÿä¸å˜è°ƒã€‚")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i input.mp4 -i changba_icon.png -filter_complex\n'[0:v][1:v]overlay=main_w-overlay_w-10:10:1[out]' -map '[out]' output.mp4")]),a._v(" "),t("p",[a._v("ä¸ºè§†é¢‘å¢åŠ æ°´å°ï¼Œå‘½ä»¤åŒ…å«äº†å‡ ä¸ªå†…ç½®å‚æ•°ï¼Œmain_wä»£è¡¨ä¸»è§†é¢‘å®½åº¦ï¼Œ overlay_wä»£è¡¨æ°´å°å®½åº¦ï¼Œmain_hä»£è¡¨ä¸»è§†é¢‘é«˜åº¦ï¼Œoverlay_hä»£è¡¨æ°´å° é«˜åº¦ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i input.flv -c:v libx264 -b:v 800k -c:a libfdk_aac -vf eq=brightness=0.25  -f mp4 output.mp4")]),a._v(" "),t("p",[a._v("è§†é¢‘æäº®æ•ˆæœå™¨ï¼Œæäº®å‚æ•°æ˜¯brightnessï¼Œå–å€¼èŒƒå›´æ˜¯ä»-1.0åˆ°1.0ï¼Œé»˜è®¤å€¼æ˜¯0ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i input.flv -c:v libx264 -b:v 800k -c:a libfdk_aac -vf eq=contrast=1.5 -f mp4 output.mp4")]),a._v(" "),t("p",[a._v("ä¸ºè§†é¢‘å¢åŠ å¯¹æ¯”åº¦æ•ˆæœï¼Œå¯¹æ¯”åº¦å‚æ•°æ˜¯contrastï¼Œå–å€¼èŒƒå›´æ˜¯ä»-2.0åˆ°2.0ï¼Œé»˜è®¤å€¼æ˜¯1.0ã€‚")])]),a._v(" "),t("li",[t("p",[a._v('ffmpeg -i input.mp4 -vf "transpose=1" -b:v 600k output.mp4')]),a._v(" "),t("p",[a._v("è§†é¢‘æ—‹è½¬æ•ˆæœå™¨")])]),a._v(" "),t("li",[t("p",[a._v('ffmpeg -i input.mp4 -an -vf  "crop=240:480:120:0" -vcodec libx264 -b:v 600k output.mp4')]),a._v(" "),t("p",[a._v("è§†é¢‘è£å‰ªæ•ˆæœå™¨")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -f rawvideo -pix_fmt rgba -s 480*480 -i texture.rgb -f image2 -vcodec mjpeg output.jpg")]),a._v(" "),t("p",[a._v("å°†ä¸€å¼ RGBAæ ¼å¼è¡¨ç¤ºçš„æ•°æ®è½¬æ¢ä¸ºJPEGæ ¼å¼çš„å›¾ç‰‡")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -f rawvideo -pix_fmt yuv420p -s 480*480 -i texture.yuv -f image2 -vcodec mjpeg output.jpg")]),a._v(" "),t("p",[a._v("å°†ä¸€ä¸ªYUVæ ¼å¼è¡¨ç¤ºçš„æ•°æ®è½¬æ¢ä¸ºJPEGæ ¼å¼çš„å›¾ç‰‡:")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -re -i input.mp4 -acodec copy -vcodec copy -f flv rtmp://xxx")]),a._v(" "),t("p",[a._v("å°†ä¸€æ®µè§†é¢‘æ¨é€åˆ°æµåª’ä½“æœåŠ¡å™¨ä¸Š")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i http://xxx/xxx.flv -acodec copy -vcodec copy -f flv output.flv")]),a._v(" "),t("p",[a._v("å°†æµåª’ä½“æœåŠ¡å™¨ä¸Šçš„æµdumpåˆ°æœ¬åœ°:")])]),a._v(" "),t("li",[t("p",[a._v("ffmpeg -i 131.mp3 -i 134.mp3 -map 0:a -cğŸ…°ï¸0 libfdk_aac -bğŸ…°ï¸0 96k -map 1:a -cğŸ…°ï¸1  libfdk_aac -bğŸ…°ï¸1 64k -vn -f mp4 output.m4a")]),a._v(" "),t("p",[a._v("å°†ä¸¤ä¸ªéŸ³é¢‘æ–‡ä»¶ä»¥ä¸¤è·¯æµçš„å½¢å¼å°è£…åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œæ¯”å¦‚åœ¨K æ­Œçš„åº”ç”¨åœºæ™¯ä¸­ï¼ŒåŸä¼´å”±å®æ—¶åˆ‡æ¢çš„åœºæ™¯ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ–‡ä»¶åŒ…å«ä¸¤ è·¯æµï¼Œä¸€è·¯æ˜¯ä¼´å¥æµï¼Œå¦å¤–ä¸€è·¯æ˜¯åŸå”±æµ")])])])])]),a._v(" "),t("h2",{attrs:{id:"api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[a._v("#")]),a._v(" API")]),a._v(" "),t("h3",{attrs:{id:"avformatcontext"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avformatcontext"}},[a._v("#")]),a._v(" AVFormatContext")]),a._v(" "),t("p",[a._v("å¯¹å®¹å™¨æˆ–è€…è¯´åª’ä½“æ–‡ ä»¶å±‚æ¬¡çš„ä¸€ä¸ªæŠ½è±¡ï¼Œè¯¥æ–‡ä»¶ä¸­(æˆ–è€…è¯´åœ¨è¿™ä¸ªå®¹å™¨é‡Œé¢)åŒ…å«äº†å¤šè·¯æµ (éŸ³é¢‘æµã€è§†é¢‘æµã€å­—å¹•æµç­‰)")]),a._v(" "),t("h3",{attrs:{id:"avstream"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avstream"}},[a._v("#")]),a._v(" AVStream")]),a._v(" "),t("p",[a._v("å¯¹æµçš„æŠ½è±¡")]),a._v(" "),t("h3",{attrs:{id:"avcodeccontextå’Œavcodec"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avcodeccontextå’Œavcodec"}},[a._v("#")]),a._v(" AVCodecContextå’ŒAVCodec")]),a._v(" "),t("p",[a._v("å¯¹ç¼–è§£ç æ ¼å¼ä»¥åŠç¼–è§£ç å™¨çš„æŠ½è±¡")]),a._v(" "),t("h3",{attrs:{id:"avpacket"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avpacket"}},[a._v("#")]),a._v(" AVPacket")]),a._v(" "),t("p",[a._v("å‹ç¼©æ•°æ®")]),a._v(" "),t("h3",{attrs:{id:"avframe"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avframe"}},[a._v("#")]),a._v(" AVFrame")]),a._v(" "),t("p",[a._v("åŸå§‹æ•°æ®")]),a._v(" "),t("h2",{attrs:{id:"ä½¿ç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨"}},[a._v("#")]),a._v(" ä½¿ç”¨")]),a._v(" "),t("h3",{attrs:{id:"avformat-network-init"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avformat-network-init"}},[a._v("#")]),a._v(" avformat_network_init();")]),a._v(" "),t("p",[a._v("æ³¨å†Œç½‘ç»œåè®®")]),a._v(" "),t("h3",{attrs:{id:"avcodec-register-all"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avcodec-register-all"}},[a._v("#")]),a._v(" avcodec_register_all()")]),a._v(" "),t("p",[a._v("æ³¨å†Œç¼–è§£ç å™¨")]),a._v(" "),t("h3",{attrs:{id:"av-register-all"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#av-register-all"}},[a._v("#")]),a._v(" av_register_all();")]),a._v(" "),t("p",[a._v("æ³¨å†Œæ‰€æœ‰")]),a._v(" "),t("h2",{attrs:{id:"åº“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åº“"}},[a._v("#")]),a._v(" åº“")]),a._v(" "),t("h3",{attrs:{id:"avutil"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avutil"}},[a._v("#")]),a._v(" AVUtil")]),a._v(" "),t("p",[a._v("æ ¸å¿ƒå·¥å…·åº“ï¼Œè¯¥æ¨¡å—æ˜¯æœ€åŸºç¡€çš„æ¨¡å—ä¹‹ä¸€ï¼Œä¸‹é¢çš„è®¸å¤šå…¶ä»–æ¨¡å—éƒ½ä¼šä¾èµ–è¯¥åº“åšä¸€äº›åŸºæœ¬çš„éŸ³è§†é¢‘å¤„ç†æ“ä½œ")]),a._v(" "),t("h3",{attrs:{id:"avformat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avformat"}},[a._v("#")]),a._v(" AVFormat")]),a._v(" "),t("p",[a._v("æ–‡ä»¶æ ¼å¼å’Œåè®®åº“ï¼Œè¯¥æ¨¡å—æ˜¯æœ€é‡è¦çš„æ¨¡å—ä¹‹ä¸€ï¼Œå°è£…äº†Protocolå±‚å’ŒDemuxerã€Muxerå±‚ï¼Œä½¿å¾—åè®®å’Œæ ¼å¼å¯¹äºå¼€å‘è€…æ¥è¯´æ˜¯é€æ˜çš„")]),a._v(" "),t("h3",{attrs:{id:"avcodec"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avcodec"}},[a._v("#")]),a._v(" AVCodec")]),a._v(" "),t("p",[a._v("ç¼–è§£ç åº“ï¼Œå°è£…äº†Codecå±‚ï¼Œä½†æ˜¯æœ‰ä¸€äº›Codecæ˜¯å…·å¤‡è‡ªå·±çš„Licenseçš„ï¼ŒFFmpegæ˜¯ä¸ä¼šé»˜è®¤æ·»åŠ åƒlibx264ã€FDK-AACã€lameç­‰åº“çš„ï¼Œä½†æ˜¯FFMpegå°±åƒä¸€ä¸ªå¹³å°ä¸€æ ·ï¼Œå¯ä»¥å°†å…¶ä»–çš„ç¬¬ä¸‰æ–¹çš„Codecä»¥æ’ä»¶çš„æ–¹å¼æ·»åŠ è¿›æ¥ï¼Œç„¶åä¸ºå¼€å‘è€…æä¾›ç»Ÿä¸€çš„æ¥å£ã€‚")]),a._v(" "),t("h3",{attrs:{id:"avfilter"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avfilter"}},[a._v("#")]),a._v(" AVFilter")]),a._v(" "),t("p",[a._v("éŸ³è§†é¢‘æ»¤é•œåº“ï¼Œè¯¥æ¨¡å—æä¾›äº†åŒ…æ‹¬éŸ³é¢‘ç‰¹æ•ˆå’Œè§†é¢‘ç‰¹æ•ˆçš„å¤„ç†ï¼Œåœ¨ä½¿ç”¨FFmpegçš„APIè¿›è¡Œç¼–è§£ç çš„è¿‡ç¨‹ä¸­ï¼Œç›´æ¥ä½¿ç”¨è¯¥æ¨¡å—ä¸ºéŸ³è§†é¢‘æ•°æ®åšç‰¹æ•ˆå¤„ç†æ˜¯éå¸¸æ–¹ä¾¿åŒæ—¶ä¹Ÿéå¸¸é«˜æ•ˆçš„ä¸€ç§æ–¹å¼ã€‚")]),a._v(" "),t("h3",{attrs:{id:"avdevice"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avdevice"}},[a._v("#")]),a._v(" AVDevice")]),a._v(" "),t("p",[a._v("è¾“å…¥è¾“å‡ºè®¾å¤‡åº“")]),a._v(" "),t("h3",{attrs:{id:"swrressample"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#swrressample"}},[a._v("#")]),a._v(" SwrRessample")]),a._v(" "),t("p",[a._v("è¯¥æ¨¡å—å¯ç”¨äºéŸ³é¢‘é‡é‡‡æ ·ï¼Œå¯ä»¥å¯¹æ•°å­—éŸ³é¢‘è¿›è¡Œå£°é“æ•°ã€æ•°æ®æ ¼å¼ã€é‡‡æ ·ç‡ç­‰å¤šç§åŸºæœ¬ä¿¡æ¯çš„è½¬æ¢")]),a._v(" "),t("h3",{attrs:{id:"swscale"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#swscale"}},[a._v("#")]),a._v(" SWScale")]),a._v(" "),t("p",[a._v("è¯¥æ¨¡å—æ˜¯å°†å›¾åƒè¿›è¡Œæ ¼å¼è½¬æ¢çš„æ¨¡å—ï¼Œæ¯”å¦‚ï¼Œå¯ä»¥å°†YUVçš„æ•°æ®è½¬æ¢ä¸ºRGBçš„æ•°æ®")]),a._v(" "),t("h3",{attrs:{id:"postproc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#postproc"}},[a._v("#")]),a._v(" PostProc")]),a._v(" "),t("p",[a._v("è¯¥æ¨¡å—å¯ç”¨äºè¿›è¡ŒåæœŸå¤„ç†ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨AVFilterçš„æ—¶å€™éœ€è¦æ‰“å¼€è¯¥æ¨¡å—çš„å¼€å…³ï¼Œå› ä¸ºFilterä¸­ä¼šä½¿ç”¨åˆ°è¯¥æ¨¡å—çš„ä¸€äº›åŸºç¡€å‡½æ•°ã€‚")]),a._v(" "),t("h2",{attrs:{id:"av-find-stream-info"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#av-find-stream-info"}},[a._v("#")]),a._v(" av_find_stream_info")]),a._v(" "),t("p",[a._v("å¦‚æœè¾¾åˆ°äº†è®¾ç½®çš„å€¼å´è¿˜æ²¡æœ‰è§£æå‡ºå¯¹åº”çš„è§†é¢‘æµå’ŒéŸ³é¢‘æµçš„MetaDataï¼Œé‚£ä¹ˆå°±è¿›å…¥é‡è¯•ç­–ç•¥")]),a._v(" "),t("h3",{attrs:{id:"max-analyze-duration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#max-analyze-duration"}},[a._v("#")]),a._v(" max_analyze_duration")]),a._v(" "),t("p",[a._v("è®¾ç½®æ¢æµ‹æ•°æ®é‡æœ€å¤§çš„è§£ææ•°æ®é•¿åº¦ï¼Œé€šå¸¸è®¾ç½®ä¸º75000")]),a._v(" "),t("h3",{attrs:{id:"probesize"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#probesize"}},[a._v("#")]),a._v(" probesize")]),a._v(" "),t("p",[a._v("è®¾ç½®æ¢æµ‹æ•°æ®é‡çš„å¤§å°ï¼Œé€šå¸¸è®¾ç½®ä¸º50x1024")]),a._v(" "),t("h2",{attrs:{id:"avpacket-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avpacket-2"}},[a._v("#")]),a._v(" AVPacket")]),a._v(" "),t("h3",{attrs:{id:"å¯¹äºè§†é¢‘å¸§-ä¸€ä¸ªavpacketå°±æ˜¯ä¸€å¸§è§†é¢‘å¸§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹äºè§†é¢‘å¸§-ä¸€ä¸ªavpacketå°±æ˜¯ä¸€å¸§è§†é¢‘å¸§"}},[a._v("#")]),a._v(" å¯¹äºè§†é¢‘å¸§ï¼Œä¸€ä¸ªAVPacketå°±æ˜¯ä¸€å¸§è§†é¢‘å¸§")]),a._v(" "),t("h3",{attrs:{id:"å¯¹äºéŸ³é¢‘å¸§-ä¸€ä¸ªavpacketæœ‰å¯èƒ½åŒ…å«å¤šä¸ªéŸ³é¢‘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹äºéŸ³é¢‘å¸§-ä¸€ä¸ªavpacketæœ‰å¯èƒ½åŒ…å«å¤šä¸ªéŸ³é¢‘"}},[a._v("#")]),a._v(" å¯¹äºéŸ³é¢‘å¸§ï¼Œä¸€ä¸ªAVPacketæœ‰å¯èƒ½åŒ…å«å¤šä¸ªéŸ³é¢‘")]),a._v(" "),t("h3",{attrs:{id:"å¯¹äºè§†é¢‘å¸§-avpacketåªè¡¨ç¤ºi-p-bå¸§-sps-ppsä¸ä¼šåœ¨avpacketä¸­ä½“ç°ã€‚å‰å››ä¸ªå­—èŠ‚è¡¨ç¤ºnalçš„å¤§å°-avpacketå½“ä¸­å·²ç»ä¸åŒ…å«è§†é¢‘çš„èµ·å§‹ç -00-00-00-01-äº†-ä¼°è®¡æ˜¯è¢«ffmpegåº“æ›¿æ¢æˆäº†è¡¨ç¤ºnalå¤§å°çš„å››ä¸ªå­—èŠ‚äº†ã€‚ç¬¬äº”ä¸ªå­—èŠ‚çš„åäº”ä½ä¾æ—§è¡¨ç¤ºnalå•å…ƒç±»å‹-ä¿æŒå’Œç æµäºŒè¿›åˆ¶ä¸€è‡´ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨å°†avpacketè¿˜åŸæˆh264æ—¶-éœ€è¦åšä¸¤æ­¥-1-åœ¨é‡åˆ°idrå¸§çš„avpacketæ—¶-æˆ‘ä»¬éœ€è¦å…ˆæ·»åŠ -sps-èµ·å§‹ç ã€spsã€ppsèµ·å§‹ç ã€pps-2-å°†avpacketå¼€å¤´å››ä¸ªå­—èŠ‚æ›¿æ¢æˆèµ·å§‹ç "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹äºè§†é¢‘å¸§-avpacketåªè¡¨ç¤ºi-p-bå¸§-sps-ppsä¸ä¼šåœ¨avpacketä¸­ä½“ç°ã€‚å‰å››ä¸ªå­—èŠ‚è¡¨ç¤ºnalçš„å¤§å°-avpacketå½“ä¸­å·²ç»ä¸åŒ…å«è§†é¢‘çš„èµ·å§‹ç -00-00-00-01-äº†-ä¼°è®¡æ˜¯è¢«ffmpegåº“æ›¿æ¢æˆäº†è¡¨ç¤ºnalå¤§å°çš„å››ä¸ªå­—èŠ‚äº†ã€‚ç¬¬äº”ä¸ªå­—èŠ‚çš„åäº”ä½ä¾æ—§è¡¨ç¤ºnalå•å…ƒç±»å‹-ä¿æŒå’Œç æµäºŒè¿›åˆ¶ä¸€è‡´ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨å°†avpacketè¿˜åŸæˆh264æ—¶-éœ€è¦åšä¸¤æ­¥-1-åœ¨é‡åˆ°idrå¸§çš„avpacketæ—¶-æˆ‘ä»¬éœ€è¦å…ˆæ·»åŠ -sps-èµ·å§‹ç ã€spsã€ppsèµ·å§‹ç ã€pps-2-å°†avpacketå¼€å¤´å››ä¸ªå­—èŠ‚æ›¿æ¢æˆèµ·å§‹ç "}},[a._v("#")]),a._v(" å¯¹äºè§†é¢‘å¸§ï¼ŒAVPacketåªè¡¨ç¤ºI/P/Bå¸§ï¼ŒSPS/PPSä¸ä¼šåœ¨AVPacketä¸­ä½“ç°ã€‚å‰å››ä¸ªå­—èŠ‚è¡¨ç¤ºNALçš„å¤§å°ï¼ŒAVPacketå½“ä¸­å·²ç»ä¸åŒ…å«è§†é¢‘çš„èµ·å§‹ç (00 00 00 01)äº†ï¼Œä¼°è®¡æ˜¯è¢«ffmpegåº“æ›¿æ¢æˆäº†è¡¨ç¤ºNALå¤§å°çš„å››ä¸ªå­—èŠ‚äº†ã€‚ç¬¬äº”ä¸ªå­—èŠ‚çš„åäº”ä½ä¾æ—§è¡¨ç¤ºnalå•å…ƒç±»å‹ï¼Œä¿æŒå’Œç æµäºŒè¿›åˆ¶ä¸€è‡´ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨å°†AVPacketè¿˜åŸæˆh264æ—¶ï¼Œéœ€è¦åšä¸¤æ­¥ï¼š1.åœ¨é‡åˆ°IDRå¸§çš„avpacketæ—¶ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ·»åŠ ï¼šsps èµ·å§‹ç ã€spsã€ppsèµ·å§‹ç ã€pps; 2.å°†avpacketå¼€å¤´å››ä¸ªå­—èŠ‚æ›¿æ¢æˆèµ·å§‹ç ")]),a._v(" "),t("h2",{attrs:{id:"è§£å°è£…åé‡é‡‡æ ·"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è§£å°è£…åé‡é‡‡æ ·"}},[a._v("#")]),a._v(" è§£å°è£…åé‡é‡‡æ ·")]),a._v(" "),t("h3",{attrs:{id:"éŸ³é¢‘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#éŸ³é¢‘"}},[a._v("#")]),a._v(" éŸ³é¢‘")]),a._v(" "),t("ul",[t("li",[a._v("è§£å°è£…åéŸ³é¢‘è£¸æ•°æ®æ ¼å¼å¦‚æœä¸æ˜¯AV_SAMPLE_FMT_S16ï¼ˆ16ä½æœ‰ç¬¦å·ç±»å‹ï¼‰å°±éœ€è¦è¿›è¡Œé‡é‡‡æ ·")])]),a._v(" "),t("h3",{attrs:{id:"è§†é¢‘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è§†é¢‘"}},[a._v("#")]),a._v(" è§†é¢‘")]),a._v(" "),t("ul",[t("li",[a._v("å¦‚æœè£¸æ•°æ®ä¸æ˜¯YUV420Pï¼Œé‚£ä¹ˆå°±è¦è¿›è¡Œè§†é¢‘å¸§çš„æ ¼å¼è½¬æ¢")])]),a._v(" "),t("h2",{attrs:{id:"avformatcontext-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avformatcontext-2"}},[a._v("#")]),a._v(" AVFormatContext")]),a._v(" "),t("h3",{attrs:{id:"interrupt-callback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#interrupt-callback"}},[a._v("#")]),a._v(" interrupt_callback")]),a._v(" "),t("p",[a._v("è¶…æ—¶å›è°ƒï¼Œç”¨äºå¯»æ‰¾æµä¿¡æ¯ã€å®é™…çš„read_frameé˜¶æ®µ")]),a._v(" "),t("h2",{attrs:{id:"audiounit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#audiounit"}},[a._v("#")]),a._v(" AudioUnit")]),a._v(" "),t("h3",{attrs:{id:"ä½¿ç”¨audiounitæ’­æ”¾éŸ³é¢‘æ•°æ®æ—¶-éœ€è¦å°†sint16æ•°æ®è½¬æ¢ä¸ºremoteionodeå¯ä»¥æ’­æ”¾çš„float32æ ¼å¼çš„éŸ³é¢‘æ•°æ®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨audiounitæ’­æ”¾éŸ³é¢‘æ•°æ®æ—¶-éœ€è¦å°†sint16æ•°æ®è½¬æ¢ä¸ºremoteionodeå¯ä»¥æ’­æ”¾çš„float32æ ¼å¼çš„éŸ³é¢‘æ•°æ®"}},[a._v("#")]),a._v(" ä½¿ç”¨AudioUnitæ’­æ”¾éŸ³é¢‘æ•°æ®æ—¶ï¼Œéœ€è¦å°†sInt16æ•°æ®è½¬æ¢ä¸ºRemoteIONodeå¯ä»¥æ’­æ”¾çš„Float32æ ¼å¼çš„éŸ³é¢‘æ•°æ®")]),a._v(" "),t("h2",{attrs:{id:"æ’ä»¶åº“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ’ä»¶åº“"}},[a._v("#")]),a._v(" æ’ä»¶åº“")]),a._v(" "),t("h3",{attrs:{id:"libyuv"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#libyuv"}},[a._v("#")]),a._v(" libyuv")]),a._v(" "),t("p",[a._v("Googleå¼€æºçš„å®ç°å„ç§YUVä¸RGBä¹‹é—´ç›¸äº’è½¬æ¢ã€æ—‹è½¬ã€ç¼©æ”¾çš„åº“")]),a._v(" "),t("h2",{attrs:{id:"iosç«¯é‡‡é›†çš„æ˜¯nv12-éœ€è¦è¿›è¡Œè½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#iosç«¯é‡‡é›†çš„æ˜¯nv12-éœ€è¦è¿›è¡Œè½¬æ¢"}},[a._v("#")]),a._v(" iosç«¯é‡‡é›†çš„æ˜¯NV12ï¼Œéœ€è¦è¿›è¡Œè½¬æ¢")]),a._v(" "),t("h2",{attrs:{id:"å› ä¸ºåœ¨è·å–æµä¿¡æ¯æ—¶ä¹Ÿè¦å‘ç”Ÿè§£ç è¡Œä¸º-æ‰€ä»¥max-analyze-durationå¦‚æœè®¾ç½®å¤ªçŸ­-é‚£ä¹ˆavcodeccontextä¸­çš„pix-fmtå¯èƒ½ä¸ºav-pix-fmt-none"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å› ä¸ºåœ¨è·å–æµä¿¡æ¯æ—¶ä¹Ÿè¦å‘ç”Ÿè§£ç è¡Œä¸º-æ‰€ä»¥max-analyze-durationå¦‚æœè®¾ç½®å¤ªçŸ­-é‚£ä¹ˆavcodeccontextä¸­çš„pix-fmtå¯èƒ½ä¸ºav-pix-fmt-none"}},[a._v("#")]),a._v(" å› ä¸ºåœ¨è·å–æµä¿¡æ¯æ—¶ä¹Ÿè¦å‘ç”Ÿè§£ç è¡Œä¸ºï¼Œæ‰€ä»¥max_analyze_durationå¦‚æœè®¾ç½®å¤ªçŸ­ï¼Œé‚£ä¹ˆAVCodecContextä¸­çš„pix_fmtå¯èƒ½ä¸ºAV_PIX_FMT_NONE")]),a._v(" "),t("h2",{attrs:{id:"linesizeå­˜å‚¨çš„æ˜¯æ¯è¡Œdataä¸­çš„æ•°æ®å¤§å°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linesizeå­˜å‚¨çš„æ˜¯æ¯è¡Œdataä¸­çš„æ•°æ®å¤§å°"}},[a._v("#")]),a._v(" linesizeå­˜å‚¨çš„æ˜¯æ¯è¡Œdataä¸­çš„æ•°æ®å¤§å°")]),a._v(" "),t("h3",{attrs:{id:"yuv420p"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yuv420p"}},[a._v("#")]),a._v(" yuv420p")]),a._v(" "),t("ul",[t("li",[a._v("linesize[0]å¯¹åº”data[0]çš„å¤§å°")]),a._v(" "),t("li",[a._v("linesize[1]å¯¹åº”data[1]çš„å¤§å°")]),a._v(" "),t("li",[a._v("linesize[2]å¯¹åº”data[2]çš„å¤§å°")])]),a._v(" "),t("h3",{attrs:{id:"éŸ³é¢‘-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#éŸ³é¢‘-2"}},[a._v("#")]),a._v(" éŸ³é¢‘")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("äº¤é”™æ¨¡å¼")]),a._v(" "),t("ul",[t("li",[a._v("åªæœ‰data[0]æœ‰æ•°æ®ï¼Œæ€»å¤§å°linesize[0]")])])]),a._v(" "),t("li",[t("p",[a._v("å¹³é¢æ¨¡å¼")]),a._v(" "),t("ul",[t("li",[a._v("data[0]å¯¹åº”linesize[0]")]),a._v(" "),t("li",[a._v("data[0]å’Œdata[1]çš„æ•°æ®å¤§å°æ˜¯ä¸€æ ·çš„ï¼Œéƒ½ä¸ºlinesize[0]")])])])]),a._v(" "),t("h2",{attrs:{id:"av-read-frame"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#av-read-frame"}},[a._v("#")]),a._v(" av_read_frame")]),a._v(" "),t("h3",{attrs:{id:"ä¼ å…¥avpacket-packetæ—¶-å¿…é¡»æ¸…ç©ºpacketå½“ä¸­çš„æ•°æ®å†ä¼ å…¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¼ å…¥avpacket-packetæ—¶-å¿…é¡»æ¸…ç©ºpacketå½“ä¸­çš„æ•°æ®å†ä¼ å…¥"}},[a._v("#")]),a._v(" ä¼ å…¥AVPacket packetæ—¶ï¼Œå¿…é¡»æ¸…ç©ºpacketå½“ä¸­çš„æ•°æ®å†ä¼ å…¥")]),a._v(" "),t("h2",{attrs:{id:"æ‰¾åˆ°ç¼–è§£ç å™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ‰¾åˆ°ç¼–è§£ç å™¨"}},[a._v("#")]),a._v(" æ‰¾åˆ°ç¼–è§£ç å™¨")]),a._v(" "),t("h3",{attrs:{id:"avcodec-find-decoder-by-name-libfdk-aac"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avcodec-find-decoder-by-name-libfdk-aac"}},[a._v("#")]),a._v(' avcodec_find_decoder_by_name("libfdk_aac")')]),a._v(" "),t("h3",{attrs:{id:"avcodec-find-encoder-by-name-libx264"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avcodec-find-encoder-by-name-libx264"}},[a._v("#")]),a._v(' avcodec_find_encoder_by_name("libx264");')]),a._v(" "),t("p",[a._v("x264åªç”¨æ¥ç¼–ç ")]),a._v(" "),t("h2",{attrs:{id:"avformat-open-input"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avformat-open-input"}},[a._v("#")]),a._v(" avformat_open_input")]),a._v(" "),t("h3",{attrs:{id:"å¦‚æœæ— æ³•æ‰“å¼€æ–‡ä»¶-é‚£è¦å»æ£€æŸ¥ç¼–è¯‘çš„åº“æ˜¯å¦æ”¯æŒ-å¯é‡æ–°ç¼–è¯‘ä¸€æ¬¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚æœæ— æ³•æ‰“å¼€æ–‡ä»¶-é‚£è¦å»æ£€æŸ¥ç¼–è¯‘çš„åº“æ˜¯å¦æ”¯æŒ-å¯é‡æ–°ç¼–è¯‘ä¸€æ¬¡"}},[a._v("#")]),a._v(" å¦‚æœæ— æ³•æ‰“å¼€æ–‡ä»¶ï¼Œé‚£è¦å»æ£€æŸ¥ç¼–è¯‘çš„åº“æ˜¯å¦æ”¯æŒï¼Œå¯é‡æ–°ç¼–è¯‘ä¸€æ¬¡")]),a._v(" "),t("h2",{attrs:{id:"h264"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#h264"}},[a._v("#")]),a._v(" H264")]),a._v(" "),t("h3",{attrs:{id:"profile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#profile"}},[a._v("#")]),a._v(" Profile")]),a._v(" "),t("p",[a._v("å¯¹è§†é¢‘å‹ç¼©ç‰¹æ€§çš„æè¿°ï¼ŒProfileè¶Šé«˜ï¼Œå°±è¯´æ˜é‡‡ç”¨äº†è¶Šé«˜çº§çš„å‹ç¼©ç‰¹æ€§ã€‚")]),a._v(" "),t("h3",{attrs:{id:"level"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#level"}},[a._v("#")]),a._v(" Level")]),a._v(" "),t("p",[a._v("Levelæ˜¯å¯¹è§†é¢‘çš„æè¿°ï¼ŒLevelè¶Šé«˜ï¼Œè§†é¢‘çš„ç ç‡ã€åˆ†è¾¨ç‡ã€fpsè¶Šé«˜")]),a._v(" "),t("h3",{attrs:{id:"gop"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gop"}},[a._v("#")]),a._v(" GOP")]),a._v(" "),t("p",[a._v("æ¯ä¸ªGOPçš„ç¬¬ä¸€å¸§æ˜¯IDRå¸§ï¼Œç„¶åæ˜¯Bå¸§ï¼ˆé€šå¸¸2-3ä¸ªï¼‰ï¼Œç„¶åæ˜¯På¸§ï¼Œç„¶åBå¸§ï¼Œç„¶åPå¸§ç­‰ç­‰ã€‚SPS PPS  I   B   B   P   B  B  P   B   B   P ....\nå¦‚æœæœ‰éœ€è¦æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ä¸­é—´æ’å…¥Iå¸§\nSPSå’ŒPPSæ˜¯ä¸€ä¸ªGOPçš„å¼€å§‹ï¼Œè€Œä¸æ˜¯Iå¸§çš„å¼€å§‹")]),a._v(" "),t("h3",{attrs:{id:"å¸§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¸§"}},[a._v("#")]),a._v(" å¸§")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("Iå¸§")]),a._v(" "),t("p",[a._v("å…³é”®å¸§")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("IDRå¸§")]),a._v(" "),t("p",[a._v("ç‰¹æ®Šçš„Iå¸§ï¼Œå¸§å†…å‹ç¼©æŠ€æœ¯ï¼Œè§£ç å™¨ç«‹å³åˆ·æ–°å¸§ï¼Œé‡åˆ°IDRå¸§æ—¶ï¼Œè§£ç å™¨ä¼šå°†ç¼“å†²åŒºçš„æ•°æ®æ¸…ç©ºï¼Œè¿™æ ·åé¢çš„æ•°æ®å¸§åªä¼šå‚è€ƒIDRå¸§ï¼Œä¸å†å‚è€ƒç¼“å†²åŒºä¸­å…¶ä»–çš„å¸§ï¼Œå› ä¸ºè¢«æ¸…ç©ºäº†")])])])]),a._v(" "),t("li",[t("p",[a._v("På¸§")]),a._v(" "),t("p",[a._v("å‰å‘é¢„æµ‹å¸§ï¼Œå¸§é—´å‹ç¼©æŠ€æœ¯ï¼Œçº¦å Iå¸§çš„ä¸€åŠ")])]),a._v(" "),t("li",[t("p",[a._v("Bå¸§")]),a._v(" "),t("p",[a._v("åŒå‘é¢„æµ‹å¸§ï¼Œå¸§é—´å‹ç¼©æŠ€æœ¯ï¼Œå…ˆè§£ç å‰åçš„å¸§ï¼Œå†è§£ç Bå¸§ï¼Œå Iå¸§çš„å››åˆ†ä¹‹ä¸€ï¼Œå CPUã€å¹¶ä¸”è€—æ—¶é•¿ã€‚")])])]),a._v(" "),t("h3",{attrs:{id:"å—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å—"}},[a._v("#")]),a._v(" å—")]),a._v(" "),t("p",[a._v("4x4åƒç´ ")]),a._v(" "),t("h3",{attrs:{id:"å®å—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®å—"}},[a._v("#")]),a._v(" å®å—")]),a._v(" "),t("p",[a._v("è§†é¢‘å‹ç¼©æ“ä½œçš„åŸºæœ¬å•å…ƒï¼Œæ— è®ºæ˜¯å¸§å†…å‹ç¼©è¿˜æ˜¯å¸§é—´å‹ç¼©ï¼Œå®ƒä»¬éƒ½ä»¥å®å—ä¸ºå•ä½ï¼Œé€šå¸¸ä¸º16x16åƒç´ ")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("Iå®å—")]),a._v(" "),t("p",[a._v("åªèƒ½åˆ©ç”¨å½“å‰ç‰‡ä¸­å·²è§£ç çš„åƒç´ ä½œä¸ºå‚è€ƒè¿›è¡Œå¸§å†…é¢„æµ‹")])]),a._v(" "),t("li",[t("p",[a._v("På®å—")]),a._v(" "),t("p",[a._v("å¯ä»¥åˆ©ç”¨å‰é¢å·²è§£ç çš„å›¾åƒä½œä¸ºå‚è€ƒå›¾åƒè¿›è¡Œå¸§å†…é¢„æµ‹")])]),a._v(" "),t("li",[t("p",[a._v("Bå®å—")]),a._v(" "),t("p",[a._v("åˆ©ç”¨å‰åçš„å‚è€ƒå›¾åƒè¿›è¡Œå¸§å†…é¢„æµ‹")])])]),a._v(" "),t("h3",{attrs:{id:"äºšå®å—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºšå®å—"}},[a._v("#")]),a._v(" äºšå®å—")]),a._v(" "),t("h3",{attrs:{id:"åºåˆ—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åºåˆ—"}},[a._v("#")]),a._v(" åºåˆ—")]),a._v(" "),t("h3",{attrs:{id:"ç‰‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç‰‡"}},[a._v("#")]),a._v(" ç‰‡")]),a._v(" "),t("p",[a._v("ä¸€å¸§è§†é¢‘å›¾åƒå¯ç¼–ç æˆä¸€ä¸ªæˆ–è€…å¤šä¸ªç‰‡ï¼Œæ¯ç‰‡åŒ…å«æ•´æ•°ä¸ªå®å—ï¼Œå³æ¯ç‰‡è‡³å°‘ä¸€ä¸ªå®å—ï¼Œæœ€å¤šæ—¶åŒ…å«æ•´ä¸ªå›¾åƒçš„å®å—ã€‚ä¸ºäº†é™åˆ¶è¯¯ç çš„æ‰©æ•£å’Œä¼ è¾“ï¼Œæ˜¯ç¼–ç ç‰‡ç›¸äº’é—´ä¿æŒç‹¬ç«‹")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("Iç‰‡")]),a._v(" "),t("p",[a._v("åªåŒ…å«Iå®å—")])]),a._v(" "),t("li",[t("p",[a._v("Pç‰‡")]),a._v(" "),t("p",[a._v("På’ŒIå®å—")])]),a._v(" "),t("li",[t("p",[a._v("Bç‰‡")])]),a._v(" "),t("li",[t("p",[a._v("SPç‰‡")])]),a._v(" "),t("li",[t("p",[a._v("SIç‰‡")])])]),a._v(" "),t("h3",{attrs:{id:"ç‰‡ç»„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç‰‡ç»„"}},[a._v("#")]),a._v(" ç‰‡ç»„")]),a._v(" "),t("p",[a._v("ç‰‡çš„ç»„åˆ")]),a._v(" "),t("h3",{attrs:{id:"å‹ç¼©æ¯”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‹ç¼©æ¯”"}},[a._v("#")]),a._v(" å‹ç¼©æ¯”")]),a._v(" "),t("p",[a._v("1/100")]),a._v(" "),t("h3",{attrs:{id:"å‹ç¼©æŠ€æœ¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‹ç¼©æŠ€æœ¯"}},[a._v("#")]),a._v(" å‹ç¼©æŠ€æœ¯")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("å¸§å†…å‹ç¼©")]),a._v(" "),t("p",[a._v("è§£å†³ç©ºåŸŸæ•°æ®å†—ä½™é—®é¢˜")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("å¸§å†…é¢„æµ‹")]),a._v(" "),t("p",[a._v("åˆ©ç”¨è§†é¢‘ç©ºé—´åŸŸçš„ç›¸å…³æ€§ï¼Œä½¿ç”¨åŒä¸€å¸§å›¾åƒå†…ä¸´è¿‘çš„å·²ç¼–ç åƒç´ é¢„æµ‹å½“å‰çš„åƒç´ ï¼Œä»¥è¾¾åˆ°æœ‰æ•ˆå»é™¤è§†é¢‘å†—ä½™çš„ç›®çš„ã€‚æ„æ€å°±æ˜¯å­˜å‚¨ä¸€ä¸ªåƒç´ çš„åŸå§‹å€¼ï¼Œç„¶åå­˜å‚¨å¦å¤–ä¸€ä¸ªåƒç´ å’Œå½“å‰åƒç´ çš„å·®å€¼ï¼Œè¾¾åˆ°èŠ‚çº¦ç©ºé—´çš„ç›®çš„ã€‚")]),a._v(" "),t("ul",[t("li",[a._v("ç›¸é‚»åƒç´ å·®åˆ«ä¸å¤§ï¼Œæ‰€ä»¥å¯ä»¥è¿›è¡Œå®å—é¢„æµ‹")])])])])]),a._v(" "),t("li",[t("p",[a._v("å¸§é—´å‹ç¼©")]),a._v(" "),t("p",[a._v("è§£å†³æ—¶åŸŸæ•°æ®å†—ä½™é—®é¢˜")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("å¸§é—´é¢„æµ‹ï¼ˆå¸§é—´å‹ç¼©æŠ€æœ¯ï¼‰")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("GOP")])]),a._v(" "),t("li",[t("p",[a._v("å‚è€ƒå¸§")])]),a._v(" "),t("li",[t("p",[a._v("è¿åŠ¨ä¼°è®¡")]),a._v(" "),t("ul",[t("li",[a._v("å®å—åŒ¹é…")]),a._v(" "),t("li",[a._v("è¿åŠ¨çŸ¢é‡")])])]),a._v(" "),t("li",[t("p",[a._v("è¿åŠ¨è¡¥å¿")]),a._v(" "),t("ul",[t("li",[a._v("æ ¹æ®è¿åŠ¨çŸ¢é‡å’Œå¸§é—´é¢„æµ‹æ–¹æ³•ï¼Œæ±‚å¾—å½“å‰å¸§çš„ä¼°è®¡å€¼")])])])])])])]),a._v(" "),t("li",[t("p",[a._v("æ•´æ•°ç¦»æ•£ä½™å¼¦å˜æ¢(DCT)")]),a._v(" "),t("ul",[t("li",[a._v("å°†ç©ºé—´ä¸Šçš„ç›¸å…³æ€§å˜ä¸ºé¢‘åŸŸä¸Šæ— å…³çš„æ•°æ®ç„¶åè¿›è¡Œé‡åŒ–")])])]),a._v(" "),t("li",[t("p",[a._v("CABACå‹ç¼©")])])]),a._v(" "),t("h3",{attrs:{id:"nalu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nalu"}},[a._v("#")]),a._v(" NALU")]),a._v(" "),t("p",[a._v("å¯¹äºä¸€ä¸ªå¸§ï¼Œå¸§å†…çš„ç¬¬ä¸€ç‰‡ä»¥00 00 00 01å¼€å¤´ï¼Œåé¢çš„ç‰‡ä»¥00 00 01å¼€å¤´ã€‚å¸§å¼€å¤´çš„ç¬¬äº”ä¸ªå­—èŠ‚çš„åäº”ä½è¡¨ç¤ºå‡ºçš„å€¼å¦‚æœæ˜¯7å°±æ˜¯SPSã€8æ˜¯PPSã€5æ˜¯IDRå›¾åƒä¸­çš„ç‰‡ã€1æ˜¯I/P/Bå¸§ã€‚é‚£å¦‚ä½•åˆ¤æ–­I/P/Bå¸§å‘¢ï¼Ÿå¦‚æœç¬¬äº”ä¸ªå­—èŠ‚çš„åäº”ä½æ˜¯1ï¼Œåˆ™ä»£è¡¨æ˜¯æ™®é€šçš„I/P/Bå¸§ï¼Œåˆ™å¯ä»¥é€šè¿‡ç¬¬ä¸€ç‰‡æ¥åˆ¤æ–­ï¼Œä½†å®Œæ•´æ€§æ— æ³•éªŒè¯ï¼Œå› ä¸ºä¸€å¸§å¯èƒ½åŒ…å«å¤šç‰‡ã€‚")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("SPS")]),a._v(" "),t("p",[a._v("åºåˆ—å‚æ•°é›†ï¼Œå¯¹GOPçš„å‚æ•°è®¾ç½®ï¼ŒåŒ…æ‹¬å¸§æ•°ã€POCçº¦æŸã€å‚è€ƒå¸§çš„æ•°é‡ï¼ˆè§£ç æ—¶å®é™…å¯ä»¥å‚è€ƒä¸€å¸§ä¹Ÿå¯ä»¥å‚è€ƒå¤šå¸§ï¼Œå‚è€ƒå¤šå¸§å‹ç¼©ç‡ä¼šè¿›ä¸€æ­¥é™ä½ï¼‰ã€è§£ç å›¾åƒçš„å°ºå¯¸ã€å¸§åœºã€ç¼–ç æ¨¡å¼ã€‚SPSåºåˆ—ï¼š00 00 00 01 68...")])]),a._v(" "),t("li",[t("p",[a._v("PPS")]),a._v(" "),t("p",[a._v("å›¾åƒå‚æ•°é›†ï¼Œå¯¹æ¯ä¸€å¸§å›¾åƒçš„æè¿°ï¼Œidã€ç†µç¼–ç ã€åˆå§‹é‡åŒ–å‚æ•°ç­‰ç­‰ã€‚å¯ä»codec->extradataä¸­è·å–PPSæˆ–è€…ä»æ•°æ®æµä¸­è·å–ã€‚\nPPSå¸§çš„åºåˆ—ï¼š00  00  00  01  68 ...")])]),a._v(" "),t("li",[t("p",[a._v("I/P/B")]),a._v(" "),t("p",[a._v("åºåˆ—ï¼š00 00 00 01 01... 00 00 01...\nä¸€ä¸ªå¸§å½“ä¸­æœ‰å¤šä¸ªç‰‡ï¼Œåç»­çš„ç‰‡ä»¥00 00 01å¼€å¤´")])]),a._v(" "),t("li",[t("p",[a._v("IDR")]),a._v(" "),t("p",[a._v("åºåˆ—ï¼š00 00 00 01  65...00 00 01...\nå› ä¸ºä¸€ä¸ªå¸§å½“ä¸­ä¼šæœ‰å¤šä¸ªç‰‡ï¼Œæ‰€ä»¥åé¢çš„ç‰‡éƒ½æ˜¯ä»¥00 00 01å¼€å¤´")])])]),a._v(" "),t("h3",{attrs:{id:"é‡åŒ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é‡åŒ–"}},[a._v("#")]),a._v(" é‡åŒ–")]),a._v(" "),t("h3",{attrs:{id:"å˜æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å˜æ¢"}},[a._v("#")]),a._v(" å˜æ¢")]),a._v(" "),t("h2",{attrs:{id:"keyint-min"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#keyint-min"}},[a._v("#")]),a._v(" keyint_min")]),a._v(" "),t("h3",{attrs:{id:"å½“gopå¾ˆå¤§æ—¶-æˆ‘ä»¬å¯ä»¥è®¾ç½®æ’å…¥iå¸§çš„æœ€å°é—´éš”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å½“gopå¾ˆå¤§æ—¶-æˆ‘ä»¬å¯ä»¥è®¾ç½®æ’å…¥iå¸§çš„æœ€å°é—´éš”"}},[a._v("#")]),a._v(" å½“GOPå¾ˆå¤§æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®æ’å…¥Iå¸§çš„æœ€å°é—´éš”")]),a._v(" "),t("h2",{attrs:{id:"mp4è½¬flv"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mp4è½¬flv"}},[a._v("#")]),a._v(" mp4è½¬flv")]),a._v(" "),t("h3",{attrs:{id:"avformat-alloc-output-context2-avformat-free-context"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avformat-alloc-output-context2-avformat-free-context"}},[a._v("#")]),a._v(" avformat_alloc_output_context2()/avformat_free_context()")]),a._v(" "),t("h3",{attrs:{id:"avformat-new-stream"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avformat-new-stream"}},[a._v("#")]),a._v(" avformat_new_stream()")]),a._v(" "),t("p",[a._v("åœ¨æ–°æ–‡ä»¶ä¸­åˆ›å»ºæµ")]),a._v(" "),t("h3",{attrs:{id:"avcodec-parameters-copy"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avcodec-parameters-copy"}},[a._v("#")]),a._v(" avcodec_parameters_copy()")]),a._v(" "),t("p",[a._v("æ‹·è´æ•°æ®å‚æ•°ï¼Œä¾‹å¦‚sps/pps")]),a._v(" "),t("h3",{attrs:{id:"avformat-write-header"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avformat-write-header"}},[a._v("#")]),a._v(" avformat_write_header()")]),a._v(" "),t("p",[a._v("å†™å¤šåª’ä½“æ–‡ä»¶å¤´")]),a._v(" "),t("h3",{attrs:{id:"av-write-frame-av-interleaved-write-frame"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#av-write-frame-av-interleaved-write-frame"}},[a._v("#")]),a._v(" av_write_frame()/av_interleaved_write_frame()")]),a._v(" "),t("p",[a._v("éäº¤å‰å’Œäº¤å‰å†™ï¼Œé€šå¸¸æ˜¯äº¤å‰å†™")]),a._v(" "),t("h3",{attrs:{id:"av-write-trailer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#av-write-trailer"}},[a._v("#")]),a._v(" av_write_trailer()")]),a._v(" "),t("p",[a._v("å†™å¤šåª’ä½“å°¾éƒ¨")]),a._v(" "),t("h2",{attrs:{id:"aacç¼–ç "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#aacç¼–ç "}},[a._v("#")]),a._v(" aacç¼–ç ")]),a._v(" "),t("h3",{attrs:{id:"context"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#context"}},[a._v("#")]),a._v(" context")]),a._v(" "),t("ul",[t("li",[a._v("bit_rate")]),a._v(" "),t("li",[a._v("sample_fmt")]),a._v(" "),t("li",[a._v("sample_rate")]),a._v(" "),t("li",[a._v("channel_layout")]),a._v(" "),t("li",[a._v("channels")])]),a._v(" "),t("h2",{attrs:{id:"sdl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sdl"}},[a._v("#")]),a._v(" SDL")]),a._v(" "),t("p",[a._v("Cè¯­è¨€å®ç°çš„è·¨å¹³å°çš„åª’ä½“å¼€æºåº“ï¼Œå¤šç”¨äºå¼€å‘æ¸¸æˆã€æ¨¡æ‹Ÿå™¨ã€åª’ä½“æ’­æ”¾å™¨ç­‰å¤šåª’ä½“åº”ç”¨é¢†åŸŸ")]),a._v(" "),t("h3",{attrs:{id:"sdl-init-sdl-quit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sdl-init-sdl-quit"}},[a._v("#")]),a._v(" SDL_Init/SDL_Quit()")]),a._v(" "),t("h3",{attrs:{id:"sdl-createwindown-sdl-destroywindow"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sdl-createwindown-sdl-destroywindow"}},[a._v("#")]),a._v(" SDL_CreateWindown()/SDL_DestroyWindow()")]),a._v(" "),t("h3",{attrs:{id:"sdl-createrender-sdl-destroyrender"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sdl-createrender-sdl-destroyrender"}},[a._v("#")]),a._v(" SDL_CreateRender/SDL_DestroyRender()")]),a._v(" "),t("h3",{attrs:{id:"sdl-renderclear"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sdl-renderclear"}},[a._v("#")]),a._v(" SDL_RenderClear")]),a._v(" "),t("h3",{attrs:{id:"sdl-renderpresent"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sdl-renderpresent"}},[a._v("#")]),a._v(" SDL_RenderPresent")]),a._v(" "),t("h2",{attrs:{id:"avcodeccontext"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avcodeccontext"}},[a._v("#")]),a._v(" avCodecContext")]),a._v(" "),t("h3",{attrs:{id:"avcodeccontext-flags-av-codec-flag-global-header"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avcodeccontext-flags-av-codec-flag-global-header"}},[a._v("#")]),a._v(" avCodecContext->flags |= AV_CODEC_FLAG_GLOBAL_HEADER;")]),a._v(" "),t("ul",[t("li",[a._v("å°†å…¨å±€å¤´éƒ¨ä¿¡æ¯(sps/pps)æ”¾åœ¨extradataæŒ‡é’ˆä¸­ï¼Œè€Œä¸æ˜¯æ¯ä¸€ä¸ªå…³é”®å¸§ä¸­")])]),a._v(" "),t("h3",{attrs:{id:"coded-frame"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#coded-frame"}},[a._v("#")]),a._v(" coded_frame")]),a._v(" "),t("h2",{attrs:{id:"è§†é¢‘ç¼–è§£ç "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è§†é¢‘ç¼–è§£ç "}},[a._v("#")]),a._v(" è§†é¢‘ç¼–è§£ç ")]),a._v(" "),t("h3",{attrs:{id:"ffmpeg-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg-3"}},[a._v("#")]),a._v(" ffmpeg")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("ç¡¬ç¼–ç ")]),a._v(" "),t("ul",[t("li",[a._v('avcodec_find_encoder_by_name("h264_videotoolbox");')])])]),a._v(" "),t("li",[t("p",[a._v("è½¯ç¼–ç ")]),a._v(" "),t("ul",[t("li",[a._v('avcodec_find_encoder_by_name("libx264")')])])]),a._v(" "),t("li",[t("p",[a._v("ç¡¬è§£ç ")]),a._v(" "),t("ul",[t("li",[a._v('type = av_hwdevice_find_type_by_name("videotoolbox");\ndecoder_Ctx->get_format = hw_get_format;\nav_hwdevice_ctx_create(&hw_device_ctx,type,NULL,NULL,0)\ndecoder_Ctx->hw_device_ctx = av_buffer_ref(hw_device_ctx);')])])]),a._v(" "),t("li",[t("p",[a._v("è½¯è§£ç ")]),a._v(" "),t("ul",[t("li",[a._v("AVCodec * avCodec = avcodec_find_decoder(videoStream->codecpar->codec_id);")])])])]),a._v(" "),t("h3",{attrs:{id:"åŸç”Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åŸç”Ÿ"}},[a._v("#")]),a._v(" åŸç”Ÿ")]),a._v(" "),t("ul",[t("li",[a._v("ç¡¬ç¼–ç ")]),a._v(" "),t("li",[a._v("ç¡¬è§£ç ")]),a._v(" "),t("li",[a._v("è½¯ç¼–ç ")]),a._v(" "),t("li",[a._v("è½¯è§£ç ")])]),a._v(" "),t("h2",{attrs:{id:"éŸ³é¢‘ç¼–è§£ç "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#éŸ³é¢‘ç¼–è§£ç "}},[a._v("#")]),a._v(" éŸ³é¢‘ç¼–è§£ç ")]),a._v(" "),t("h3",{attrs:{id:"ffmpeg-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg-4"}},[a._v("#")]),a._v(" ffmpeg")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("è½¯è§£ç ")]),a._v(" "),t("ul",[t("li",[a._v("AVCodec * avCodec = avcodec_find_decoder(audioStream->codecpar->codec_id);")])])]),a._v(" "),t("li",[t("p",[a._v("ç¡¬è§£ç ")])]),a._v(" "),t("li",[t("p",[a._v("ç¡¬ç¼–ç ")])]),a._v(" "),t("li",[t("p",[a._v("è½¯ç¼–ç ")]),a._v(" "),t("ul",[t("li",[a._v('AVCodec *codec = avcodec_find_encoder_by_name("libfdk_aac");')])])])]),a._v(" "),t("h3",{attrs:{id:"audiotoolbox"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#audiotoolbox"}},[a._v("#")]),a._v(" audioToolbox")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("ç¡¬ç¼–ç ")]),a._v(" "),t("ul",[t("li",[a._v("kAppleHardwareAudioCodecManufacturer")])])]),a._v(" "),t("li",[t("p",[a._v("è½¯ç¼–ç ")]),a._v(" "),t("ul",[t("li",[a._v("kAppleSoftwareAudioCodecManufacturer")])])]),a._v(" "),t("li",[t("p",[a._v("ç¡¬è§£ç (æ²¡è¯•è¿‡)")]),a._v(" "),t("ul",[t("li",[a._v("kAppleHardwareAudioCodecManufacturer")])])]),a._v(" "),t("li",[t("p",[a._v("è½¯è§£ç (æ²¡è¯•è¿‡)")]),a._v(" "),t("ul",[t("li",[a._v("kAppleSoftwareAudioCodecManufacturer")])])])]),a._v(" "),t("p",[t("em",[a._v("XMind - Trial Version")])])])}),[],!1,null,null,null);v.default=e.exports}}]);